%testing area for various things, mainly attitude quaternion and keeping

wrist = [1,2,3];

l = zeros(2);
l(1) = 3;
l(2) = 4;
wristdist = norm(wrist);
thetaoffset = LOC(l(2), wristdist, l(1));

planept = -l(2)*cosd(thetaoffset)*makeunit(wrist);

syms theta phi lambda f(theta, phi);

%assume(theta > -20 & theta < 20);
%assume(phi > -60 & phi < 45);
f(theta, phi) = l(2)*(wrist(1)*cosd(theta)*sind(phi) + wrist(2)*sind(theta)*sind(phi) + wrist(3)*cosd(phi)) - (l(2)*cos(theta))*(wrist(1)^2 + wrist(2)^2 + wrist(3)^2);
D = x^2 + y^2; 
L = D + lambda * f(theta, phi);

dL_db = diff(L,b) == 0; % derivative of L with respect to b
dL_dh = diff(L,h) == 0; % derivative of L with respect to h
dL_dlambda = diff(L,lambda) == 0; % derivative of L with respect to lambda
systemeq = [dL_dl; dL_db; dL_dh; dL_dlambda]; % build the system of equations
%systemeq = [f(theta, phi) == 0; 2*theta == lambda*(diff(f(theta, phi), theta)); 2*phi == lambda*(diff(f(theta, phi), phi))];

radmin = solve(systemeq, lambda, 'Real', true);

disp(radmin);
